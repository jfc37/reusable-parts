<div id="register"
  fxLayout="row"
  fxLayoutAlign="start">

  <jfc-welcome [name]="name"
    [description]="description"
    [logoUrl]="logoUrl"></jfc-welcome>

  <div id="register-form-wrapper"
    fusePerfectScrollbar
    *fuseIfOnDom
    [@animate]="{value:'*',params:{delay:'300ms',x:'100%'}}">

    <div id="register-form">

      <div class="logo"
        fxHide.gt-xs>
        <img [src]="logoUrl"
          alt="Logo">
      </div>

      <div class="title">CREATE AN ACCOUNT</div>

      <form name="registerForm"
        [formGroup]="registerForm"
        novalidate>

        <mat-form-field>
          <input matInput
            data-test-id="first-name-input"
            placeholder="First name"
            formControlName="firstName">
          <mat-error *ngIf="displayError('firstName')">
            First name is required
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input matInput
            data-test-id="surname-input"
            placeholder="Surname"
            formControlName="surname">
          <mat-error *ngIf="displayError('surname')">
            Surmame is required
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input matInput
            data-test-id="email-input"
            placeholder="Email"
            formControlName="email">
          <mat-error *ngIf="displayError('email')">
            Please enter a valid email address
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input matInput
            data-test-id="password-input"
            type="password"
            placeholder="Password"
            formControlName="password">
          <mat-error *ngIf="displayError('password')">
            Password is required
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <input matInput
            data-test-id="confirm-password-input"
            type="password"
            placeholder="Password (Confirm)"
            formControlName="passwordConfirm">
          <mat-error *ngIf="displayError('passwordConfirm')">
            Passwords must match
          </mat-error>
        </mat-form-field>

        <div class="terms"
          fxLayout="row"
          fxLayoutAlign="center center">
          <mat-checkbox name="terms"
            data-test-id="terms-and-conditions-checkbox"
            aria-label="Accept"
            required>
            <span>Accept</span>
          </mat-checkbox>
          <a href="#">terms and conditions</a>
        </div>

        <jfc-alert *ngIf="registrationError"
          data-test-id="registration-error-message"
          type="error">
          {{registrationError}}
        </jfc-alert>

        <jfc-alert *ngIf="registrationSucceeded"
          data-test-id="registration-success-message"
          type="success">
          Registration succeeded
        </jfc-alert>

        <button mat-raised-button
          data-test-id="create-account-button"
          type="submit"
          color="accent"
          class="submit-button"
          aria-label="CREATE AN ACCOUNT"
          [disabled]="canRegister()"
          (click)="register()">
          CREATE AN ACCOUNT
        </button>

      </form>

      <div class="register"
        fxLayout="column"
        fxLayoutAlign="center center">
        <span class="text">Already have an account?</span>
        <a class="link"
          [routerLink]="'/' + loginRoute">Login</a>
      </div>
    </div>
  </div>
</div>
